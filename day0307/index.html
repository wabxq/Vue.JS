<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/bootstrap.css"/>
		<style type="text/css">
			h1 {
				text-align: center;
			}
			input{
				width: 100px;
				height: auto;
			}
			table{
				width: 700px;
				height: auto;
				margin: auto;
			}
		</style>
	</head>
	<body>
		<script src="https://cdn.jsdelivr.net/npm/vue"></script>
		<h1>账单</h1>
		<table id="app" class=" table-bordered table-striped">
			<tr>
				<th>序号</th>
				<th>物品</th>
				<th>单价</th>
				<th>数量</th>
				<th>小计</th>
			</tr>
			<tr v-for="(item,index) in goods" >
				<td>{{index+1}}</td>
				<td>{{item.name}}</td>
				<td>{{item.price}}</td>
				<td>
					<input type="number" min="0" :max="item.max" v-model="item.num">
				</td>
				<td>{{getSubtotal(index)}}</td>
			</tr>
			<tr class="success">
				<td colspan="4">总计</td>
				<td>{{getMoney()}}</td>
			</tr>
		</table>
		<script type="text/javascript">
			var app = new Vue({
				el: '#app',
				data: {
					goods: [{
						name: '苹果',
						price: 55,
						num: 4,
						max: 20
					}, {
						name: '香蕉',
						price: 50,
						num: 7,
						max: 50
					}]
				},
				methods: {
					getSubtotal: function(i) {
						return this.goods[i].price * this.goods[i].num;
					},
					getMoney: function() {
						var sum = 0;
						for (var i = 0; i < this.goods.length; i++) {
							sum += this.goods[i].price * this.goods[i].num;
						}
						return sum;
					}
				}
			});
		</script>
	</body>

</html>